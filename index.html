<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Дело о Призах 8 Марта</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #ff99cc, #ffd700); /* Мягкий розово-золотой градиент */
            font-family: 'Arial', sans-serif;
            color: #fff;
            overflow: hidden;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
        }
        body::before {
            content: '6А девочки 8 марта';
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 32px;
            color: #ff66b3;
            text-shadow: 0 0 5px #fff, 0 0 10px #ffd700;
            animation: fadePulse 2s infinite ease-in-out;
        }
        @keyframes fadePulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }

        /* Фоновые элементы */
        .bg-element {
            position: absolute;
            pointer-events: none;
            z-index: 0;
        }
        .gift {
            width: 50px;
            height: 50px;
            background: url('https://img.icons8.com/color/50/ffffff/gift.png') no-repeat center;
            background-size: contain;
            animation: gentleFloat 15s infinite ease-in-out;
        }
        .rose {
            width: 40px;
            height: 40px;
            background: url('https://img.icons8.com/color/40/ffffff/rose.png') no-repeat center;
            background-size: contain;
            animation: gentleFloat 12s infinite ease-in-out;
        }
        @keyframes gentleFloat {
            0% { transform: translateY(0) rotate(0deg); opacity: 0.6; }
            50% { transform: translateY(-15vh) rotate(90deg); opacity: 0.8; }
            100% { transform: translateY(0) rotate(180deg); opacity: 0.6; }
        }

        /* Верхняя панель */
        #prizeBar {
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            text-align: center;
            border-bottom: 2px solid #ffd700;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        #prizeText {
            font-size: 30px;
            font-weight: bold;
            color: #ff66b3;
            text-shadow: 0 0 5px #ffd700;
        }
        .prize-word {
            display: inline-block;
            opacity: 0;
            margin: 0 8px;
            transition: opacity 0.5s;
        }
        .reveal {
            opacity: 1;
            animation: gentleFade 1s ease-in-out;
        }
        @keyframes gentleFade {
            0% { transform: scale(0.8); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Секции */
        .section {
            display: none;
            margin: 20px auto;
            width: 90%;
            max-width: 800px;
            background: rgba(255, 255, 255, 0.85);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border: 2px solid #ff66b3;
            position: relative;
        }
        .section.active {
            display: block;
            animation: smoothSlide 1s ease-in-out;
        }
        @keyframes smoothSlide {
            0% { transform: translateY(15px); opacity: 0; }
            100% { transform: translateY(0); opacity: 1; }
        }
        h2 {
            font-size: 28px;
            color: #ff66b3;
            text-align: center;
            margin-bottom: 15px;
        }
        p {
            font-size: 18px;
            color: #ff66b3;
            text-align: center;
        }
        input, button {
            padding: 10px 20px;
            margin: 10px;
            font-size: 18px;
            border: 2px solid #ffd700;
            border-radius: 8px;
            background: #fff;
            color: #ff66b3;
            transition: all 0.3s ease;
        }
        input:focus {
            outline: none;
            box-shadow: 0 0 8px #ffd700;
        }
        button:hover {
            background: #ffd700;
            color: #fff;
            transform: scale(1.05);
        }
        .message {
            font-size: 20px;
            color: #ff66b3;
            text-align: center;
            margin-top: 10px;
        }

        /* Эффекты */
        .magnifier, .letter, .door {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
        }
        .magnifier {
            width: 100px;
            height: 100px;
            background: url('https://img.icons8.com/ios-filled/50/ffffff/search.png') no-repeat center;
            background-size: contain;
            animation: smoothMagnify 1.5s ease-out forwards;
        }
        .letter {
            width: 80px;
            height: 80px;
            background: url('https://img.icons8.com/ios-filled/50/ffffff/letter.png') no-repeat center;
            background-size: contain;
            animation: smoothLetter 1.5s ease-out forwards;
        }
        .door {
            width: 150px;
            height: 150px;
            background: url('https://img.icons8.com/ios-filled/50/ffffff/door.png') no-repeat center;
            background-size: contain;
            animation: smoothDoor 2s ease-out forwards;
        }
        @keyframes smoothMagnify {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
        @keyframes smoothLetter {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
        @keyframes smoothDoor {
            0% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
            100% { transform: translate(-50%, -50%) scale(1.1); opacity: 1; }
        }
    </style>
</head>
<body>
    <!-- Фоновые элементы -->
    <div class="bg-element gift" style="top: 10%; left: 15%; animation-delay: 0s;"></div>
    <div class="bg-element gift" style="top: 60%; left: 80%; animation-delay: 2s;"></div>
    <div class="bg-element rose" style="top: 30%; left: 40%; animation-delay: 1s;"></div>
    <div class="bg-element rose" style="top: 70%; left: 20%; animation-delay: 3s;"></div>

    <!-- Верхняя панель с "Призы за дверью!" -->
    <div id="prizeBar">
        <span id="prizeText">
            <span class="prize-word" id="word1">Призы</span>
            <span class="prize-word" id="word2">за</span>
            <span class="prize-word" id="word3">дверью!</span>
        </span>
    </div>

    <!-- Часть 1: Улики поздравления -->
    <div id="part1" class="section active">
        <h2>Найди поздравление</h2>
        <input type="text" id="greetingInput" placeholder="Без пробелов и запятой">
        <button onclick="checkGreeting()">Проверить</button>
        <div id="message1" class="message"></div>
    </div>

    <!-- Часть 2: 5 сложных загадок про 8 марта для 6 класса -->
    <div id="part2" class="section">
        <h2>Разгадай загадки</h2>
        <div id="riddle1" class="riddle">
            <p>Какой цветок на 8 марта скрывает маленькие шарики под лепестками? <br>
                <button onclick="checkRiddle(1, 'МИМОЗА')">МИМОЗА</button>
                <button onclick="checkRiddle(1, 'РОЗА')">РОЗА</button>
                <button onclick="checkRiddle(1, 'ТЮЛЬПАН')">ТЮЛЬПАН</button>
            </p>
            <div id="messageR1" class="message"></div>
        </div>
        <div id="riddle2" class="riddle" style="display: none;">
            <p>Какой день в марте отмечают, если посчитать буквы в "весна"? <br>
                <button onclick="checkRiddle(2, 'ВОСЬМОЕ')">ВОСЬМОЕ</button>
                <button onclick="checkRiddle(2, 'ПЯТЬ')">ПЯТЬ</button>
                <button onclick="checkRiddle(2, 'ДЕСЯТОЕ')">ДЕСЯТОЕ</button>
            </p>
            <div id="messageR2" class="message"></div>
        </div>
        <div id="riddle3" class="riddle" style="display: none;">
            <p>Что на 8 марта дарят, если сладость прячется в обёртке? <br>
                <button onclick="checkRiddle(3, 'КОНФЕТЫ')">КОНФЕТЫ</button>
                <button onclick="checkRiddle(3, 'ФРУКТЫ')">ФРУКТЫ</button>
                <button onclick="checkRiddle(3, 'ПЕЧЕНЬЕ')">ПЕЧЕНЬЕ</button>
            </p>
            <div id="messageR3" class="message"></div>
        </div>
        <div id="riddle4" class="riddle" style="display: none;">
            <p>Кого в школе поздравляют на 8 марта, если половина класса улыбается? <br>
                <button onclick="checkRiddle(4, 'ДЕВОЧЕК')">ДЕВОЧЕК</button>
                <button onclick="checkRiddle(4, 'УЧИТЕЛЕЙ')">УЧИТЕЛЕЙ</button>
                <button onclick="checkRiddle(4, 'РОДИТЕЛЕЙ')">РОДИТЕЛЕЙ</button>
            </p>
            <div id="messageR4" class="message"></div>
        </div>
        <div id="riddle5" class="riddle" style="display: none;">
            <p>Что на открытке для 8 марта появляется, если сложить буквы поздравления? <br>
                <button onclick="checkRiddle(5, 'ПОЗДРАВЛЯЮ')">ПОЗДРАВЛЯЮ</button>
                <button onclick="checkRiddle(5, 'СПАСИБО')">СПАСИБО</button>
                <button onclick="checkRiddle(5, 'УДАЧИ')">УДАЧИ</button>
            </p>
            <div id="messageR5" class="message"></div>
        </div>
        <div id="finalLetter" class="message" style="display: none;"></div>
    </div>

    <!-- Часть 3: QR-квест -->
    <div id="part3" class="section">
        <h2>Раскрой код</h2>
        <input type="text" id="passwordInput" placeholder="Пароль из QR">
        <button onclick="checkPassword()">Взломать</button>
        <div id="message3" class="message"></div>
    </div>

    <script>
        let riddleCount = 0;
        const riddles = [
            { id: 1, answer: "МИМОЗА" },
            { id: 2, answer: "ВОСЬМОЕ" },
            { id: 3, answer: "КОНФЕТЫ" },
            { id: 4, answer: "ДЕВОЧЕК" },
            { id: 5, answer: "ПОЗДРАВЛЯЮ" }
        ];
        const letters = ["М", "А", "Р", "Т", "Р"]; // Буквы после угадывания

        // Часть 1: Проверка поздравления
        function checkGreeting() {
            const input = document.getElementById("greetingInput").value.toUpperCase();
            const correctAnswer = "СПРАЗДНИКОМДЕТЕКТИВЫ";
            const messageDiv = document.getElementById("message1");

            if (input === correctAnswer) {
                messageDiv.innerHTML = `<span class="animate__animated animate__fadeIn">Улика найдена!</span>`;
                const magnifier = document.createElement("div");
                magnifier.className = "magnifier";
                document.body.appendChild(magnifier);
                setTimeout(() => {
                    magnifier.remove();
                    document.getElementById("word1").classList.add("reveal");
                    document.getElementById("word2").classList.add("reveal");
                    document.getElementById("part1").classList.remove("active");
                    document.getElementById("part2").classList.add("active");
                    document.getElementById("riddle1").style.display = "block";
                }, 1500);
            } else {
                messageDiv.innerHTML = `<span class="animate__animated animate__shakeX">Ошибка!</span>`;
            }
        }

        // Часть 2: Проверка загадок
        function checkRiddle(riddleId, answer) {
            const riddle = riddles.find(r => r.id === riddleId);
            const messageDiv = document.getElementById(`messageR${riddleId}`);
            if (answer === riddle.answer) {
                messageDiv.innerHTML = `<span class="animate__animated animate__fadeIn">Правильно!</span>`;
                riddleCount++;
                document.getElementById(`riddle${riddleId}`).style.display = "none";
                if (riddleCount < 5) {
                    document.getElementById(`riddle${riddleCount + 1}`).style.display = "block";
                } else {
                    const letter = document.createElement("div");
                    letter.className = "letter";
                    document.body.appendChild(letter);
                    setTimeout(() => {
                        letter.remove();
                        document.getElementById("finalLetter").style.display = "block";
                        document.getElementById("finalLetter").innerHTML = `Ты получил букву: ${letters[riddleCount - 1]}!`;
                        document.getElementById("word3").classList.add("reveal");
                        document.getElementById("part2").classList.remove("active");
                        document.getElementById("part3").classList.add("active");
                    }, 1500);
                }
            } else {
                messageDiv.innerHTML = `<span class="animate__animated animate__shakeX">Неверно!</span>`;
            }
        }

        // Часть 3: QR-квест
        function checkPassword() {
            const input = document.getElementById("passwordInput").value.toUpperCase();
            const correctAnswer = "МАРТРОЗЫ";
            const messageDiv = document.getElementById("message3");

            if (input === correctAnswer) {
                messageDiv.innerHTML = `<span class="animate__animated animate__fadeIn">Дело раскрыто!</span>`;
                const door = document.createElement("div");
                door.className = "door";
                document.body.appendChild(door);
                setTimeout(() => {
                    door.remove();
                }, 2000);
            } else {
                messageDiv.innerHTML = `<span class="animate__animated animate__shakeX">Код неверный!</span>`;
            }
        }
    </script>
</body>
</html>
